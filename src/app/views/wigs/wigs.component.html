<div class="wigs-page">
  <div class="page-header">
    <h1>{{ getTranslation("wigs.title") }}</h1>
    <p>{{ getTranslation("wigs.subtitle") }}</p>
  </div>

  <div class="search-container">
    <input 
      type="text" 
      class="search-input" 
      [placeholder]="getTranslation('wigs.searchPlaceholder')"
      [(ngModel)]="searchQuery"
      (input)="onSearchChange()"
    />
  </div>

  @if (loading) {
    <div class="loading">{{ getTranslation("common.loading") }}</div>
  } @else {
    <div class="products-container">
      @if (products.length === 0 && searchQuery.trim()) {
        <div class="no-results">
          <p>{{ getTranslation("wigs.noResults") }} "{{ searchQuery }}"</p>
        </div>
      } @else {
        <div class="product-grid">
          @for (product of products; track product.id) {
          <div class="product-card" [routerLink]="['/product', product.id]">
            @if (product.images && product.images.length > 0) {
              <div class="product-image">
                <img [src]="product.images[0].url" [alt]="product.title" />
              </div>
            } @else {
              <div class="product-image placeholder"></div>
            }
            <div class="product-info">
              <h3 class="product-title">{{ product.title }}</h3>
              <div class="product-price">
                @if (product.onsale && product.salePrice < product.listPrice) {
                  <span class="sale-price">{{ product.salePrice | number:'1.2-2' }} ₺</span>
                  <span class="original-price">{{ product.listPrice | number:'1.2-2' }} ₺</span>
                } @else {
                  <span class="regular-price">{{ product.listPrice | number:'1.2-2' }} ₺</span>
                }
              </div>
            </div>
          </div>
        }
        </div>
      }
    </div>
  }
</div>

